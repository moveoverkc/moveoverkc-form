<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Move Over KC - Client Intake Form</title>
<style>
body { 
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
    margin: 0; 
    padding: 20px;
    background: black;
    min-height: 100vh;
}

.container { 
    max-width: 900px; 
    margin: 0 auto; 
    background: #fff; 
    padding: 3em; 
    border-radius: 12px; 
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

header { 
    text-align: center; 
    margin-bottom: 1em; 
}

h1 { 
    color: #004d80; 
    font-size: 2.5em; 
    margin-top: 0em;
    margin-bottom: 0em; 
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
}

h4 { 
    color: #000000; 
    font-size: 1em; 
    margin-top: 0em;
    margin-bottom: 0em; 
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
}

.subtitle {
    color: #666;
    font-size: 1.2em;
    margin-bottom: 0em;
    margin-top: .5em;
}

.form-section {
    background: #f8f9fa;
    padding: 1em;
    margin: 1.5em 0;
    border-radius: 8px;
    border-left: 4px solid #004d80;
}

.form-section h2 {
    color: #004d80;
    margin-top: 0;
    font-size: 1.5em;
    display: flex;
    align-items: center;
    gap: 10px;
}

.form-section h3 {
    color: #333;
    margin-top: 1.5em;
    font-size: 1.2em;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: .75em;
    margin-bottom: 0em;
}

.form-group {
    margin-bottom: 1em;
}

label {
    display: block;
    font-weight: 600;
    color: #333;
    margin-bottom: 0.5em;
}

.required::after {
    content: " *";
    color: #e74c3c;
}

input, select, textarea {
    width: 100%;
    padding: 0.8em;
    border: 2px solid #ddd;
    border-radius: 6px;
    font-size: 1em;
    transition: border-color 0.3s ease;
    box-sizing: border-box;
}

input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: #004d80;
    box-shadow: 0 0 0 3px rgba(0, 77, 128, 0.1);
}

input:required:invalid {
    border-color: #e74c3c;
}

input:required:valid {
    border-color: #27ae60;
}

.checkbox-group {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 0.8em;
    margin-top: 1em;
    margin-bottom: 1em;
}

.checkbox-item {
    display: flex;
    align-items: center;
    gap: 0.5em;
    padding: 0.5em;
    background: white;
    border-radius: 6px;
    border: 1px solid #e0e0e0;
    transition: border-color 0.3s ease;
}

.checkbox-item input[type="checkbox"] {
    width: auto;
    margin: 0;
}

.checkbox-item label {
    margin: 0;
    font-weight: normal;
    cursor: pointer;
}

.quantity-input {
    width: 80px !important;
    margin-left: 0.5em;
}

.hidden { display: none; }

.toggle-section {
    background: #e8f4ff;
    border: 1px solid #004d80;
    border-radius: 6px;
    padding: 1em;
    margin: 1em 0;
}

.submit-section {
    text-align: center;
    margin-top: 3em;
    padding: 2em;
    background: #f8f9fa;
    border-radius: 8px;
}

.submit-btn {
    background: linear-gradient(45deg, #004d80, #0066cc);
    color: white;
    padding: 1em 3em;
    border: none;
    border-radius: 50px;
    font-size: 1.2em;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 77, 128, 0.3);
}

.submit-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 77, 128, 0.4);
}

.notice {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 6px;
    padding: 1.5em;
    margin: 2em 0;
    color: #856404;
}

.contact-info {
    background: #d1ecf1;
    border: 1px solid #bee5eb;
    border-radius: 6px;
    padding: 1.5em;
    margin: 2em 0;
    color: #0c5460;
}

.location-details {
    background: white;
    border: 1px solid #ddd;
    border-radius: 6px;
    padding: 1.5em;
    margin: 1em 0;
}

.error-message {
    color: #e74c3c;
    font-size: 0.9em;
    margin-top: 0.5em;
    display: none;
}

.services-error {
    background: #ffeaea;
    border: 1px solid #e74c3c;
    border-radius: 6px;
    padding: 1em;
    margin-top: 1em;
}

.heavy-items-error {
    background: #ffeaea;
    border: 1px solid #e74c3c;
    border-radius: 6px;
    padding: 1em;
    margin-top: 1em;
}

@media (max-width: 768px) {
    .form-row {
        grid-template-columns: 1fr;
    }
    
    .container {
        padding: 1.5em;
    }
    
    .checkbox-group {
        grid-template-columns: 1fr;
    }
}
</style>
</head>
<body>

<div class="container">
    <header>
        <img src="https://github.com/moveoverkc/moveoverkc-form/blob/v2Updates/logo%20variant.png?raw=true" 
             alt="Move Over KC Logo" 
             style="max-width: 200px; height: auto; margin-bottom: 0em;">
        <h1>Move Over KC</h1>
        <p class="subtitle">Professional Moving Services</p>
        <p class="subtitle">Client Intake Form</p>
    </header>

    <form action="https://formsubmit.co/moveoverkc@gmail.com" method="POST" id="movingForm">
        <input type="hidden" name="_next" value="https://moveoverkc.github.io/moveoverkc-form/thank-you.html">

        <!-- Customer Information -->
        <div class="form-section">
            <h2>üìã Customer Information</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="customerName" class="required">Full Name</label>
                    <input type="text" id="customerName" name="Name" required>
                </div>
                <div class="form-group">
                    <label for="customerPhone" class="required">Phone Number</label>
                    <input type="tel" id="customerPhone" name="Phone" required>
                </div>
            </div>
            <div class="form-group">
                <label for="customerEmail" class="required">Email Address</label>
                <input type="email" id="customerEmail" name="Email" required>
            </div>
        </div>
        
        <!-- Services Needed -->
        <div class="form-section">
            <h2>üöö Services Needed <span style="color: #e74c3c;">*</span></h2>
            <p style="color: #666; margin-bottom: 1em;">Please select at least one service:</p>
            <div class="checkbox-group" id="servicesGroup">
                <div class="checkbox-item">
                    <input type="checkbox" id="needLoading" name="services[]" value="loading_unloading" onchange="toggleSection('loadingSection', this); validateServices()">
                    <label for="needLoading">Loading/Unloading Help</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="needPacking" name="services[]" value="packing" onchange="toggleSection('packingSection', this); validateServices()">
                    <label for="needPacking">Packing Help</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="needUnpacking" name="services[]" value="unpacking" onchange="toggleSection('unpackingSection', this); validateServices()">
                    <label for="needUnpacking">Unpacking Help</label>
               </div>
                <!-- <div class="checkbox-item">
                    <input type="checkbox" id="needSupplies" name="services[]" value="supplies" onchange="validateServices()">
                    <label for="needSupplies">Moving Supplies</label>
                </div>  -->
                <div class="checkbox-item">
                    <input type="checkbox" id="needRearranging" name="services[]" value="furniture_rearranging" onchange="toggleSection('rearrangingSection', this); validateServices()">
                    <label for="needRearranging">Furniture Rearranging</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="needJunkRemoval" name="services[]" value="junkRemoval" onchange="toggleSection('junkRemovalSection', this); validateServices()">
                    <label for="needJunkRemoval">Junk Removal</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="needOtherService" name="services[]" value="otherService" onchange="toggleSection('otherServiceSelection', this); validateServices()">
                    <label for="needOtherService">Other Service(s) Not Listed</label>
                </div>
            </div>
            <div id="servicesError" class="error-message services-error">
                <strong>Please select at least one service to continue.</strong>
            </div>
        </div>


        <!-- Loading/Unloading Section -->
        <div id="loadingSection" class="toggle-section hidden">
            <h3>üì¶ Loading & Unloading Details</h3>
            
            <h4>Service Type <span style="color: #e74c3c;">*</span></h4>
            <p style="color: #666; margin-bottom: 1em; font-size: 0.9em;">Please select what type of loading/unloading service you need:</p>
            <div class="checkbox-group" id="loadingTypeGroup">
                <div class="checkbox-item">
                    <input type="checkbox" id="onlyLoading" name="loading_type[]" value="only_loading" onchange="validateLoadingType(); handleLoadingType()">
                    <label for="onlyLoading">Only Loading</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="onlyUnloading" name="loading_type[]" value="only_unloading" onchange="validateLoadingType(); handleLoadingType()">
                    <label for="onlyUnloading">Only Unloading</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="bothLoadingUnloading" name="loading_type[]" value="both_loading_unloading" onchange="validateLoadingType(); handleLoadingType()">
                    <label for="bothLoadingUnloading">Both Loading and Unloading</label>
                </div>
            </div>
            <div id="loadingTypeError" class="error-message heavy-items-error">
                <strong>Please select a loading/unloading service type.</strong>
            </div>
            
            <!-- Moving Truck Section - Hidden by default -->
            <div id="truckSection" class="hidden">
                <h4>Moving Truck <span style="color: #e74c3c;">*</span></h4>
                <div class="checkbox-group" id="truckGroup">
                    <div class="checkbox-item">
                        <input type="checkbox" id="Truck" name="truck[]" value="truck" onchange="validateTruck()">
                        <label for="Truck">I would like Move Over KC to Provide a truck</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="noTruck" name="truck[]" value="noTruck" onchange="validateTruck()">
                        <label for="noTruck">I will provide my own truck/trailer</label>
                    </div>
                </div>
                <div id="truckError" class="error-message heavy-items-error">
                    <strong>Please specify a truck option.</strong>
                </div>
            </div>
            
            <h4>Moving Details <span style="color: #e74c3c;">*</span></h4>
            <div class="form-row">
                <div class="location-details" id="startLocationDetails">
                    <h4>Starting Location</h4>
                    <div class="form-group">
                        <label for="startPropertyType" class="required">Property Type</label>
                        <select id="startPropertyType" name="Start Property Type" data-conditional-required="loadingSection">
                            <option value="">Select property type</option>
                            <option value="single-floor-home">Single-Floor Home</option>
                            <option value="multi-level-home">Multi-Level Home</option>
                            <option value="apartment">Apartment</option>
                            <option value="townhome">Townhome</option>
                            <option value="duplex">Duplex</option>
                            <option value="storage-unit">Storage Unit</option>
                            <option value="office">Office</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="startStairs" class="required">Number of Stairs</label>
                            <input type="number" id="startStairs" name="Start Stairs" min="0" data-conditional-required="loadingSection">
                        </div>
                        <div class="form-group">
                            <label for="startFloor" class="required">Floor Level</label>
                            <select id="startFloor" name="Start Floor" data-conditional-required="loadingSection">
                                <option value="ground">Ground Floor</option>
                                <option value="1">1st Floor</option>
                                <option value="2">2nd Floor</option>
                                <option value="3">3rd Floor</option>
                                <option value="4+">4th Floor or Higher</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="startElevator" class="required">Elevator Access</label>
                        <select id="startElevator" name="Start Elevator" data-conditional-required="loadingSection">
                            <option value="none">No Elevator</option>
                            <option value="regular">Regular Elevator</option>
                            <option value="service">Service Elevator</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="startParking" class="required">Parking/Access Notes</label>
                        <input type="text" id="startParking" name="Start Parking" placeholder="e.g., street parking, long driveway, loading dock" data-conditional-required="loadingSection">
                    </div>
                </div>

                <div class="location-details" id="endLocationDetails">
                    <h4>Ending Location</h4>
                    <div class="form-group">
                        <label for="endPropertyType" class="required">Property Type</label>
                        <select id="endPropertyType" name="End Property Type" data-conditional-required="loadingSection">
                            <option value="">Select property type</option>
                            <option value="single-floor-home">Single-Floor Home</option>
                            <option value="multi-level-home">Multi-Level Home</option>
                            <option value="apartment">Apartment</option>
                            <option value="townhome">Townhome</option>
                            <option value="duplex">Duplex</option>
                            <option value="storage-unit">Storage Unit</option>
                            <option value="office">Office</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="endStairs" class="required">Number of Stairs</label>
                            <input type="number" id="endStairs" name="End Stairs" min="0" data-conditional-required="loadingSection">
                        </div>
                        <div class="form-group">
                            <label for="endFloor" class="required">Floor Level</label>
                            <select id="endFloor" name="End Floor" data-conditional-required="loadingSection">
                                <option value="ground">Ground Floor</option>
                                <option value="1">1st Floor</option>
                                <option value="2">2nd Floor</option>
                                <option value="3">3rd Floor</option>
                                <option value="4+">4th Floor or Higher</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="endElevator" class="required">Elevator Access</label>
                        <select id="endElevator" name="End Elevator" data-conditional-required="loadingSection">
                            <option value="none">No Elevator</option>
                            <option value="regular">Regular Elevator</option>
                            <option value="service">Service Elevator</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="endParking" class="required">Parking/Access Notes</label>
                        <input type="text" id="endParking" name="End Parking" placeholder="e.g., street parking, long driveway, loading dock" data-conditional-required="loadingSection">
                    </div>
                </div>
            </div>

            <h4>Heavy/Specialty Items <span style="color: #e74c3c;">*</span></h4>
            <p style="color: #666; margin-bottom: 1em; font-size: 0.9em;">Please select at least one heavy/specialty item or indicate "No heavy items":</p>
            <div class="checkbox-group" id="heavyItemsGroup">
                <div class="checkbox-item">
                    <input type="checkbox" id="piano" name="heavy_items[]" value="piano" onchange="validateHeavyItems()">
                    <label for="piano">Piano</label>
                    <input type="number" class="quantity-input hidden" id="pianoQty" name="piano_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="appliances" name="heavy_items[]" value="appliances" onchange="validateHeavyItems()">
                    <label for="appliances">Large Appliances</label>
                    <input type="number" class="quantity-input hidden" id="appliancesQty" name="appliances_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="furniture" name="heavy_items[]" value="furniture" onchange="validateHeavyItems()">
                    <label for="furniture">Heavy Furniture</label>
                    <input type="number" class="quantity-input hidden" id="furnitureQty" name="furniture_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="safe" name="heavy_items[]" value="safe" onchange="validateHeavyItems()">
                    <label for="safe">Safe</label>
                    <input type="number" class="quantity-input hidden" id="safeQty" name="safe_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="mattress" name="heavy_items[]" value="mattress" onchange="validateHeavyItems()">
                    <label for="mattress">Mattress</label>
                    <input type="number" class="quantity-input hidden" id="mattressQty" name="mattress_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="exerciseequipment" name="heavy_items[]" value="exerciseequipment" onchange="validateHeavyItems()">
                    <label for="exerciseequipment">Exercise Equipment</label>
                    <input type="number" class="quantity-input hidden" id="exerciseQty" name="exercise_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="lawnequipment" name="heavy_items[]" value="lawnequipment" onchange="validateHeavyItems()">
                    <label for="lawnequipment">Lawn Equipment</label>
                    <input type="number" class="quantity-input hidden" id="lawnQty" name="lawn_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="noheavy" name="heavy_items[]" value="no_heavy_items" onchange="validateHeavyItems(); handleNoHeavyItems(this)">
                    <label for="noheavy">No heavy items</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="otherHeavy" name="heavy_items[]" value="other" onchange="validateHeavyItems()">
                    <label for="otherHeavy">Other item</label>
                    <input type="number" class="quantity-input hidden" id="otherHeavyQty" name="other_heavy_qty" min="1" placeholder="Qty">
                </div>
            </div>
            <div id="heavyItemsError" class="error-message heavy-items-error">
                <strong>Please select at least one heavy/specialty item or indicate "No heavy items".</strong>
            </div>
            
            <div class="form-group">
                <label for="specialItems">Additional Heavy/Specialty Items</label>
                <textarea id="specialItems" name="Special Items" rows="3" placeholder="Describe any other heavy, fragile, or specialty items"></textarea>
            </div>

            <h4>Moving Equipment</h4>
            <p style="color: #666; margin-bottom: 1em; font-size: 0.9em;">Please select any equipment needed:</p>
            <div class="checkbox-group" id="movingEquipmentGroup">
                <div class="checkbox-item">
                    <input type="checkbox" id="straps" name="movingEquipment[]" value="straps" onchange="validatemovingEquipmentItems()">
                    <label for="straps">Ratchet Straps</label>
                    <input type="number" class="quantity-input hidden" id="strapsQty" name="straps_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="blankets" name="movingEquipment[]" value="blankets" onchange="validatemovingEquipmentItems()">
                    <label for="blankets">Moving Blankets</label>
                    <input type="number" class="quantity-input hidden" id="blanketsQty" name="blankets_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="bags" name="movingEquipment[]" value="bags" onchange="validatemovingEquipmentItems()">
                    <label for="bags">Mattress Bags (Please note matress sizes)</label>
                    <input type="number" class="quantity-input hidden" id="bagsQty" name="bags_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="otherEquipment" name="movingEquipment[]" value="other" onchange="validatemovingEquipmentItems()">
                    <label for="otherEquipment">Other (Please note)</label>
                    <input type="number" class="quantity-input hidden" id="otherEquipmentQty" name="other_equipment_qty" min="1" placeholder="Qty">
                </div>
            </div>
            
            <div class="form-group">
                <label for="movingEquipmentDetails">Additional Moving Equipment</label>
                <textarea id="movingEquipmentDetails" name="Moving Equipment Details" rows="3" placeholder="Describe any other moving equipment needed"></textarea>
            </div>
        </div>



        <!-- Move Details -->
        <div class="form-section">
            <h2>üìÖ Move Details</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="moveDate" class="required">Moving Date</label>
                    <input type="date" id="moveDate" name="Move Date" required>
                </div>
                <div class="form-group">
                    <label for="startTime" class="required">Preferred Start Time</label>
                    <input type="time" id="startTime" name="Start Time">
                </div>
            </div>
            <div class="form-group" id="startAddressGroup">
                <label for="startAddress" class="required">Starting Address</label>
                <input type="text" id="startAddress" name="Starting Address" required placeholder="Street address, city, state, zip">
            </div>
            <div class="form-group" id="endAddressGroup">
                <label for="endAddress" class="required">Ending Address</label>
                <input type="text" id="endAddress" name="Ending Address" required placeholder="Street address, city, state, zip">
            </div>
            <div class="form-group">
                <label for="additionalStops">Additional Stops</label>
                <textarea id="additionalStops" name="Additional Stops" rows="2" placeholder="List any additional stops along the way"></textarea>
            </div>
        </div>



        <!-- Packing Section -->
        <div id="packingSection" class="toggle-section hidden">
            <h3>üì¶ Packing Details</h3>
            <div class="form-row">
                <div class="form-group">
                    <label for="packingDate">Packing Date</label>
                    <input type="date" id="packingDate" name="Packing Date" data-conditional-required="packingSection">
                </div>
                <div class="form-group">
                    <label for="packingTime">Packing Time</label>
                    <input type="time" id="packingTime" name="Packing Time">
                </div>
            </div>
            <div class="form-group">
                <label for="packingAreas" class="required">Rooms/Areas to Pack</label>
                <textarea id="packingAreas" name="Packing Areas" rows="3" placeholder="List rooms or areas that need packing" data-conditional-required="packingSection"></textarea>
            </div>
            <div class="form-group">
                <label for="fragileItems">Fragile/High-Value Items</label>
                <textarea id="fragileItems" name="Fragile Items" rows="3" placeholder="Describe fragile or valuable items requiring special care"></textarea>
            </div>

            <h4>Packing Supplies </h4>
            <p style="color: #666; margin-bottom: 1em; font-size: 0.9em;">Please select packing supplies that are needed:</p>
            <div class="checkbox-group" id="packingSuppliesGroup">
                <div class="checkbox-item">
                    <input type="checkbox" id="smallMovingBox" value="smallMovingBox" onchange="validatePackingSupplies()">
                    <label for="smallMovingBox">Small Moving Boxes</label>
                    <input type="number" class="quantity-input hidden" id="smallMovingBoxQty" name="smallMovingBox_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="mediumMovingBox" value="mediumMovingBox" onchange="validatePackingSupplies()">
                    <label for="mediumMovingBox">Medium Moving Boxes</label>
                    <input type="number" class="quantity-input hidden" id="mediumMovingBoxQty" name="mediumMovingBox_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="largeMovingBox" value="largeMovingBox" onchange="validatePackingSupplies()">
                    <label for="largeMovingBox">Large Moving Boxes</label>
                    <input type="number" class="quantity-input hidden" id="largeMovingBoxQty" name="largeMovingBox_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="extralargeMovingBox" value="extralargeMovingBox" onchange="validatePackingSupplies()">
                    <label for="extralargeMovingBox">Extra Large Moving Boxes</label>
                    <input type="number" class="quantity-input hidden" id="extralargeMovingBoxQty" name="extralargeMovingBox_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="tvMovingBox" value="tvMovingBox" onchange="validatePackingSupplies()">
                    <label for="tvMovingBox">TV Moving Boxes</label>
                    <input type="number" class="quantity-input hidden" id="tvMovingBoxQty" name="tvMovingBox_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="otherMovingBox" value="otherMovingBox" onchange="validatePackingSupplies()">
                    <label for="otherMovingBox">Other Moving Box Boxes (please describe in notes)</label>
                    <input type="number" class="quantity-input hidden" id="otherMovingBoxQty" name="otherMovingBox_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="tapeRoll" value="tapeRoll" onchange="validatePackingSupplies()">
                    <label for="tapeRoll">Rolls of Tape</label>
                    <input type="number" class="quantity-input hidden" id="tapeRollQty" name="tapeRoll_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="plasticRoll" value="plasticRoll" onchange="validatePackingSupplies()">
                    <label for="plasticRoll">Rolls of Plastic Wrap</label>
                    <input type="number" class="quantity-input hidden" id="plasticRollQty" name="plasticRoll_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="paperRoll" value="paperRoll" onchange="validatePackingSupplies()">
                    <label for="paperRoll">Rolls of Packing Paper</label>
                    <input type="number" class="quantity-input hidden" id="paperRollQty" name="paperRoll_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="bubbleWrap" value="bubbleWrap" onchange="validatePackingSupplies()">
                    <label for="bubbleWrap">Rolls of Bubble Wrap</label>
                    <input type="number" class="quantity-input hidden" id="bubbleWrapQty" name="bubbleWrap_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="fragileSticker" value="fragileSticker" onchange="validatePackingSupplies()">
                    <label for="fragileSticker">Fragile Stickers</label>
                    <input type="number" class="quantity-input hidden" id="fragileStickerQty" name="fragileSticker_qty" min="1" placeholder="Qty">
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="mattressBags" value="mattressBags" onchange="validatePackingSupplies()">
                    <label for="mattressBags">Mattress Bags (please specify sizes in notes)</label>
                    <input type="number" class="quantity-input hidden" id="mattressBagsQty" name="mattressBags_qty" min="1" placeholder="Qty">
                </div>
            </div>
            
            <div class="form-group">
                <label for="packingDetailsAdditionalNotes">Packing Detail Notes</label>
                <textarea id="packingDetailsAdditionalNotes" name="Packing Detail Notes" rows="3" placeholder="Please describe any additional information about needed packing supplies"></textarea>
            </div>
        </div>

        <!-- Unpacking Section -->
        <div id="unpackingSection" class="toggle-section hidden">
            <h3>üì¶ Unpacking Details</h3>
            <div class="form-row">
                <div class="form-group">
                    <label for="unpackingDate" class="required">Unpacking Date</label>
                    <input type="date" id="unpackingDate" name="Unpacking Date" data-conditional-required="unpackingSection">
                </div>
                <div class="form-group">
                    <label for="unpackingTime">Unpacking Time</label>
                    <input type="time" id="unpackingTime" name="Unpacking Time">
                </div>
            </div>
            <!-- <div class="form-group">
                <label for="unpackingAddress" class="required">Unpacking Address</label>
                <input type="text" id="unpackingAddress" name="Unpacking Address" placeholder="Street address, city, state, zip" data-conditional-required="unpackingSection">
            </div> -->
            <div class="form-group">
                <label for="unpackingDetails">Unpacking Additional Notes</label>
                <textarea id="unpackingDetails" name="Unpacking Details" rows="3" placeholder="Describe any additional details for unpacking"></textarea>
            </div>
        </div>

        <!-- Furniture Rearranging Section -->
        <div id="rearrangingSection" class="toggle-section hidden">
            <h3>ü™ë Furniture Rearranging Details</h3>
            <div class="form-group">
                <label for="rearrangingDetails" class="required">Rearranging Details</label>
                <textarea id="rearrangingDetails" name="Rearranging Details" rows="4" placeholder="Please describe what furniture needs to be rearranged, moved between rooms, or repositioned. Include details about the current location and desired location of items." data-conditional-required="rearrangingSection"></textarea>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="rearrangingDate">Preferred Date for Rearranging</label>
                    <input type="date" id="rearrangingDate" name="Rearranging Date">
                </div>
                <div class="form-group">
                    <label for="rearrangingTime">Preferred Time</label>
                    <input type="time" id="rearrangingTime" name="Rearranging Time">
                </div>
            </div>
        </div>

        <!-- Junk Removal Section -->
        <div id="junkRemovalSection" class="toggle-section hidden">
            <h3>üöÆ Junk Removal Details</h3>
            <div class="form-group">
                <label for="junkRemovalDetails" class="required">Please list all items to be hauled and desired dumping location</label>
                <textarea id="junkRemovalDetails" name="Junk Removal Details" rows="3" placeholder="Items to be hauled" data-conditional-required="junkRemovalSection"></textarea>
            </div>
        </div>
        
        <!-- Other Services Section -->
        <div id="otherServiceSelection" class="toggle-section hidden">
            <h3>üõéÔ∏èOther Service(s) details</h3>
            <div class="form-group">
                <label for="otherServiceDetails" class="required">Please list what service(s) you require. Include as much detail as possible.</label>
                <textarea id="otherServiceDetails" name="Other Service Needed" rows="3" placeholder="Include all details about the services needed" data-conditional-required="otherServiceSelection"></textarea>
            </div>
        </div>

        <!-- Additional Information -->
        <div class="form-section">
            <h2>üí¨ Additional Information</h2>
            <div class="form-group">
                <label for="specialRequests">Special Requests or Notes</label>
                <textarea id="specialRequests" name="Special Requests" rows="4" placeholder="Any additional information, special requests, or concerns"></textarea>
            </div>
            <div class="form-group">
                <label for="referralSource">How did you hear about us?</label>
                <select id="referralSource" name="Referral Source">
                    <option value="">Select source</option>
                    <option value="google">Google Search</option>
                    <option value="facebook">Facebook</option>
                    <option value="friend">Friend/Family Referral</option>
                    <option value="previous-customer">Previous Customer</option>
                    <option value="online-review">Online Reviews</option>
                    <option value="other">Other</option>
                </select>
            </div>
        </div>

        <!-- Important Notice -->
        <div class="notice">
            <h3>üì∏ Important: Photo Documentation Required</h3>
            <p>After submitting this form, please take photos of:</p>
            <ul>
                <li>All items mentioned in this form</li>
                <li>All doorways, stairs, and hallways</li>
                <li>Driveways and access points</li>
                <li>Any obstacles or challenges</li>
            </ul>
            <p><strong>Email photos to: MoveOverKC@gmail.com</strong><br>
            Subject line: [Your First and Last Name] - Move Photos</p>
        </div>

        <!-- Contact Information -->
        <div class="contact-info">
            <h3>üìû Need Help?</h3>
            <p>If you have questions or need assistance with this form:</p>
            <p><strong>Call/Text:</strong> 660-351-4699<br>
            <strong>Email:</strong> MoveOverKC@gmail.com</p>
        </div>

        <!-- Submit Section -->
        <div class="submit-section">
            <button type="submit" class="submit-btn">Submit Moving Request</button>
        </div>
    </form>
</div>

<script>
function validateServices() {
    const serviceCheckboxes = document.querySelectorAll('input[name="services[]"]');
    const errorDiv = document.getElementById('servicesError');
    const servicesGroup = document.getElementById('servicesGroup');
    
    let isChecked = false;
    serviceCheckboxes.forEach(checkbox => {
        if (checkbox.checked) {
            isChecked = true;
        }
    });
    
    if (isChecked) {
        errorDiv.style.display = 'none';
        servicesGroup.style.borderColor = '';
    } else {
        errorDiv.style.display = 'block';
        servicesGroup.style.borderColor = '#e74c3c';
    }
    
    return isChecked;
}

function validateLoadingType() {
    const loadingCheckbox = document.getElementById('needLoading');
    if (!loadingCheckbox.checked) return true; // Only validate if loading service is selected
    
    const loadingTypeCheckboxes = document.querySelectorAll('input[name="loading_type[]"]');
    const errorDiv = document.getElementById('loadingTypeError');
    const loadingTypeGroup = document.getElementById('loadingTypeGroup');
    
    let isChecked = false;
    loadingTypeCheckboxes.forEach(checkbox => {
        if (checkbox.checked) {
            isChecked = true;
        }
    });
    
    if (isChecked) {
        errorDiv.style.display = 'none';
        loadingTypeGroup.style.borderColor = '';
    } else {
        errorDiv.style.display = 'block';
        loadingTypeGroup.style.borderColor = '#e74c3c';
    }
    
    return isChecked;
}

function validateHeavyItems() {
    const loadingCheckbox = document.getElementById('needLoading');
    if (!loadingCheckbox.checked) return true; // Only validate if loading service is selected
    
    const heavyItemCheckboxes = document.querySelectorAll('input[name="heavy_items[]"]');
    const errorDiv = document.getElementById('heavyItemsError');
    const heavyItemsGroup = document.getElementById('heavyItemsGroup');
    
    let isChecked = false;
    heavyItemCheckboxes.forEach(checkbox => {
        if (checkbox.checked) {
            isChecked = true;
        }
    });
    
    if (isChecked) {
        errorDiv.style.display = 'none';
        heavyItemsGroup.style.borderColor = '';
    } else {
        errorDiv.style.display = 'block';
        heavyItemsGroup.style.borderColor = '#e74c3c';
    }
    
    return isChecked;
}

function validateTruck() {
    const loadingCheckbox = document.getElementById('needLoading');
    const bothLoadingUnloading = document.getElementById('bothLoadingUnloading');
    if (!loadingCheckbox.checked || !bothLoadingUnloading.checked) return true;
    
    const truckCheckboxes = document.querySelectorAll('input[name="truck[]"]');
    const errorDiv = document.getElementById('truckError');
    const truckGroup = document.getElementById('truckGroup');
    
    let isChecked = false;
    truckCheckboxes.forEach(checkbox => {
        if (checkbox.checked) {
            isChecked = true;
        }
    });
    
    if (isChecked) {
        errorDiv.style.display = 'none';
        truckGroup.style.borderColor = '';
    } else {
        errorDiv.style.display = 'block';
        truckGroup.style.borderColor = '#e74c3c';
    }
    
    return isChecked;
}

function validatemovingEquipmentItems() {
    // This is optional equipment, so no validation needed
    // Just handle the quantity input visibility
    const checkbox = event.target;
    const qtyInput = checkbox.parentNode.querySelector('.quantity-input');
    if (qtyInput) {
        qtyInput.classList.toggle('hidden', !checkbox.checked);
        if (!checkbox.checked) qtyInput.value = '';
    }
}

function validatePackingSupplies(){
    const checkbox = event.target;
    const qtyInput = checkbox.parentNode.querySelector('.quantity-input');
    if (qtyInput) {
        qtyInput.classList.toggle('hidden', !checkbox.checked);
        if (!checkbox.checked) qtyInput.value = '';
    }
}

function handleLoadingType() {
    const onlyLoading = document.getElementById('onlyLoading');
    const onlyUnloading = document.getElementById('onlyUnloading');
    const bothLoadingUnloading = document.getElementById('bothLoadingUnloading');
    
    // Only allow one selection
    const loadingTypeCheckboxes = document.querySelectorAll('input[name="loading_type[]"]');
    loadingTypeCheckboxes.forEach(cb => {
        if (cb !== event.target) {
            cb.checked = false;
        }
    });
    
    // Show/hide truck section based on selection
    const truckSection = document.getElementById('truckSection');
    if (bothLoadingUnloading.checked) {
        truckSection.classList.remove('hidden');
    } else {
        truckSection.classList.add('hidden');
        // Clear truck selections when hidden
        const truckCheckboxes = document.querySelectorAll('input[name="truck[]"]');
        truckCheckboxes.forEach(cb => cb.checked = false);
        validateTruck();
    }
    
    // Handle address requirements and location details
    const startAddressGroup = document.getElementById('startAddressGroup');
    const endAddressGroup = document.getElementById('endAddressGroup');
    const startAddress = document.getElementById('startAddress');
    const endAddress = document.getElementById('endAddress');
    const startLocationDetails = document.getElementById('startLocationDetails');
    const endLocationDetails = document.getElementById('endLocationDetails');
    
    if (onlyLoading.checked) {
        // Only Loading: hide ending address and ending location details
        endAddressGroup.classList.add('hidden');
        endAddress.removeAttribute('required');
        endAddress.value = '';
        endLocationDetails.classList.add('hidden');
        
        startAddressGroup.classList.remove('hidden');
        startAddress.setAttribute('required', 'required');
        startLocationDetails.classList.remove('hidden');

        requireEndLocationDetails(false);
        requireStartLocationDetails(true);
    } else if (onlyUnloading.checked) {
        // Only Unloading: hide starting address and starting location details
        startAddressGroup.classList.add('hidden');
        startAddress.removeAttribute('required');
        startAddress.value = '';
        startLocationDetails.classList.add('hidden');
        
        endAddressGroup.classList.remove('hidden');
        endAddress.setAttribute('required', 'required');
        endLocationDetails.classList.remove('hidden');

        requireEndLocationDetails(true);
        requireStartLocationDetails(false);
    } else if (bothLoadingUnloading.checked) {
        // Both: show both addresses and location details
        startAddressGroup.classList.remove('hidden');
        endAddressGroup.classList.remove('hidden');
        startAddress.setAttribute('required', 'required');
        endAddress.setAttribute('required', 'required');
        startLocationDetails.classList.remove('hidden');
        endLocationDetails.classList.remove('hidden');

        requireEndLocationDetails(true);
        requireStartLocationDetails(true);
    } else {
        // No selection: show both but don't require
        startAddressGroup.classList.remove('hidden');
        endAddressGroup.classList.remove('hidden');
        startLocationDetails.classList.remove('hidden');
        endLocationDetails.classList.remove('hidden');

        requireEndLocationDetails(false);
        requireStartLocationDetails(false);
    }
}


const endPropertyType = document.getElementById('endPropertyType');
const endStairs = document.getElementById('endStairs');
const endFloor = document.getElementById('endFloor');
const endElevator = document.getElementById('endElevator');
const endParking = document.getElementById('endParking');

function requireEndLocationDetails(value){
    if(value === true){
        endPropertyType.setAttribute('required', 'required');
        endStairs.setAttribute('required', 'required');
        endFloor.setAttribute('required', 'required');
        endElevator.setAttribute('required', 'required');
        endParking.setAttribute('required', 'required');
    }
    else{
        endPropertyType.removeAttribute('required');
        endStairs.removeAttribute('required');
        endFloor.removeAttribute('required');
        endElevator.removeAttribute('required');
        endParking.removeAttribute('required');
    }
}

const startPropertyType = document.getElementById('startPropertyType');
const startStairs = document.getElementById('startStairs');
const startFloor = document.getElementById('startFloor');
const startElevator = document.getElementById('startElevator');
const startParking = document.getElementById('startParking');

function requireStartLocationDetails(value){
    if(value === true){
        startPropertyType.setAttribute('required', 'required');
        startStairs.setAttribute('required', 'required');
        startFloor.setAttribute('required', 'required');
        startElevator.setAttribute('required', 'required');
        startParking.setAttribute('required', 'required');
    }
    else{
        startPropertyType.removeAttribute('required');
        startStairs.removeAttribute('required');
        startFloor.removeAttribute('required');
        startElevator.removeAttribute('required');
        startParking.removeAttribute('required');
    }
}


function handleNoHeavyItems(checkbox) {
    const heavyItemCheckboxes = document.querySelectorAll('input[name="heavy_items[]"]:not(#noheavy)');
    
    if (checkbox.checked) {
        // If "No heavy items" is checked, uncheck all other heavy items
        heavyItemCheckboxes.forEach(cb => {
            cb.checked = false;
            const qtyInput = cb.parentNode.querySelector('.quantity-input');
            if (qtyInput) {
                qtyInput.classList.add('hidden');
                qtyInput.value = '';
            }
        });
    }
}

function toggleSection(sectionId, checkbox) {
    const section = document.getElementById(sectionId);
    const isVisible = checkbox.checked;
    
    section.classList.toggle('hidden', !isVisible);
    
    // Handle conditional required fields
    const conditionalFields = section.querySelectorAll('[data-conditional-required="' + sectionId + '"]');
    conditionalFields.forEach(field => {
        if (isVisible) {
            field.setAttribute('required', 'required');
        } else {
            field.removeAttribute('required');
            field.value = '';
        }
    });
    
    // Clear loading section specific data when hidden
    if (sectionId === 'loadingSection' && !isVisible) {
        const heavyItemCheckboxes = section.querySelectorAll('input[name="heavy_items[]"]');
        heavyItemCheckboxes.forEach(cb => {
            cb.checked = false;
            const qtyInput = cb.parentNode.querySelector('.quantity-input');
            if (qtyInput) {
                qtyInput.classList.add('hidden');
                qtyInput.value = '';
            }
        });
        const truckCheckboxes = section.querySelectorAll('input[name="truck[]"]');
        truckCheckboxes.forEach(cb => {
            cb.checked = false;
        });
        const loadingTypeCheckboxes = section.querySelectorAll('input[name="loading_type[]"]');
        loadingTypeCheckboxes.forEach(cb => {
            cb.checked = false;
        });
        
        // Reset address requirements
        const startAddress = document.getElementById('startAddress');
        const endAddress = document.getElementById('endAddress');
        const startAddressGroup = document.getElementById('startAddressGroup');
        const endAddressGroup = document.getElementById('endAddressGroup');
        
        startAddressGroup.classList.remove('hidden');
        endAddressGroup.classList.remove('hidden');
        startAddress.setAttribute('required', 'required');
        endAddress.setAttribute('required', 'required');
        
        validateHeavyItems();
        validateTruck();
        validateLoadingType();
    }
    
    // Show/hide quantity inputs for heavy items - only add listeners once
    if (sectionId === 'loadingSection' && isVisible) {
        const heavyItemCheckboxes = section.querySelectorAll('input[name="heavy_items[]"]:not(#noheavy)');
        heavyItemCheckboxes.forEach(cb => {
            // Remove existing listeners to prevent duplicates
            cb.removeEventListener('change', handleHeavyItemChange);
            cb.addEventListener('change', handleHeavyItemChange);
        });
    }
}

function handleHeavyItemChange() {
    const qtyInput = this.parentNode.querySelector('.quantity-input');
    if (qtyInput) {
        qtyInput.classList.toggle('hidden', !this.checked);
        if (!this.checked) qtyInput.value = '';
    }
    
    // If any other heavy item is selected, uncheck "No heavy items"
    if (this.checked) {
        document.getElementById('noheavy').checked = false;
    }
}

// Form validation
document.getElementById('movingForm').addEventListener('submit', function(e) {
    // First check if at least one service is selected
    if (!validateServices()) {
        e.preventDefault();
        document.getElementById('servicesGroup').scrollIntoView({ behavior: 'smooth', block: 'center' });
        return;
    }
    
    // Check loading type validation if loading service is selected
    if (document.getElementById('needLoading').checked && !validateLoadingType()) {
        e.preventDefault();
        document.getElementById('loadingTypeGroup').scrollIntoView({ behavior: 'smooth', block: 'center' });
        return;
    }
    
    // Check heavy items validation if loading service is selected
    if (document.getElementById('needLoading').checked && !validateHeavyItems()) {
        e.preventDefault();
        document.getElementById('heavyItemsGroup').scrollIntoView({ behavior: 'smooth', block: 'center' });
        return;
    }
    
    // Check truck validation if loading service is selected and both loading/unloading is selected
    if (document.getElementById('needLoading').checked && document.getElementById('bothLoadingUnloading').checked && !validateTruck()) {
        e.preventDefault();
        document.getElementById('truckGroup').scrollIntoView({ behavior: 'smooth', block: 'center' });
        return;
    }

    // Then check other required fields
    const requiredFields = this.querySelectorAll('[required]');
    let isValid = true;
    let firstInvalidField = null;
    
    requiredFields.forEach(field => {
        if (!field.value.trim()) {
            isValid = false;
            field.style.borderColor = '#e74c3c';
            if (!firstInvalidField) {
                firstInvalidField = field;
            }
        } else {
            field.style.borderColor = '#27ae60';
        }
    });
    
    if (!isValid) {
        e.preventDefault();
        alert('Please fill in all required fields (marked with *).');
        if (firstInvalidField) {
            firstInvalidField.focus();
            firstInvalidField.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    }
});

// Initialize form on page load
document.addEventListener('DOMContentLoaded', function() {
    setMinDate();

    // Set up heavy item checkboxes with proper event listeners
    const heavyItemCheckboxes = document.querySelectorAll('input[name="heavy_items[]"]:not(#noheavy)');
    heavyItemCheckboxes.forEach(cb => {
        cb.addEventListener('change', handleHeavyItemChange);
    });
});

function setMinDate() {
    const today = new Date();
    const tomorrow = new Date(today);
    tomorrow.setDate(tomorrow.getDate() + 1);
    
    const minDate = tomorrow.toISOString().split('T')[0];
    
    document.getElementById('moveDate').setAttribute('min', minDate);
    document.getElementById('packingDate').setAttribute('min', minDate);
    document.getElementById('rearrangingDate').setAttribute('min', minDate);
    document.getElementById('unpackingDate').setAttribute('min', minDate);
}
</script>

</body>
</html>